"use strict";var cr=Object.create;if(cr){var callerCache=cr(null);var getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(j){var i=require("./util");var g=i.canEvaluate;var h=i.isIdentifier;var k;var f;if(!false){var l=function(n){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,n))(a)};var b=function(n){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",n))};var e=function(p,r,n){var o=n[p];if(typeof o!=="function"){if(!h(p)){return null}o=r(p);n[p]=o;n[" size"]++;if(n[" size"]>512){var s=Object.keys(n);for(var q=0;q<256;++q){delete n[s[q]]}n[" size"]=s.length-256}}return o};k=function(n){return e(n,l,callerCache)};f=function(n){return e(n,b,getterCache)}}function a(q,n){var o;if(q!=null){o=q[n]}if(typeof o!=="function"){var p="Object "+i.classString(q)+" has no method '"+i.toString(n)+"'";throw new j.TypeError(p)}return o}function d(p){var n=this.pop();var o=a(p,n);return o.apply(p,this)}j.prototype.call=function(n){var r=arguments.length;var o=new Array(Math.max(r-1,0));for(var q=1;q<r;++q){o[q-1]=arguments[q]}if(!false){if(g){var p=k(n);if(p!==null){return this._then(p,undefined,undefined,o,undefined)}}}o.push(n);return this._then(d,undefined,undefined,o,undefined)};function c(n){return n[this]}function m(o){var n=+this;if(n<0){n=Math.max(0,n+o.length)}return o[n]}j.prototype.get=function(p){var q=(typeof p==="number");var n;if(!q){if(g){var o=f(p);n=o!==null?o:c}else{n=c}}else{n=m}return this._then(n,undefined,undefined,p,undefined)}};