"use strict";var es5=require("./es5");var canEvaluate=typeof navigator=="undefined";var errorObj={e:{}};var tryCatchTarget;var globalObject=typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:this!==undefined?this:null;function tryCatcher(){try{var b=tryCatchTarget;tryCatchTarget=null;return b.apply(this,arguments)}catch(a){errorObj.e=a;return errorObj}}function tryCatch(a){tryCatchTarget=a;return tryCatcher}var inherits=function(d,b){var c={}.hasOwnProperty;function a(){this.constructor=d;this.constructor$=b;for(var f in b.prototype){if(c.call(b.prototype,f)&&f.charAt(f.length-1)!=="$"){this[f+"$"]=b.prototype[f]}}}a.prototype=b.prototype;d.prototype=new a();return d.prototype};function isPrimitive(a){return a==null||a===true||a===false||typeof a==="string"||typeof a==="number"}function isObject(a){return typeof a==="function"||typeof a==="object"&&a!==null}function maybeWrapAsError(a){if(!isPrimitive(a)){return a}return new Error(safeToString(a))}function withAppended(f,c){var a=f.length;var b=new Array(a+1);var d;for(d=0;d<a;++d){b[d]=f[d]}b[d]=c;return b}function getDataPropertyOrDefault(c,b,a){if(es5.isES5){var d=Object.getOwnPropertyDescriptor(c,b);if(d!=null){return d.get==null&&d.set==null?d.value:a}}else{return{}.hasOwnProperty.call(c,b)?c[b]:undefined}}function notEnumerableProp(d,a,b){if(isPrimitive(d)){return d}var c={value:b,configurable:true,enumerable:false,writable:true};es5.defineProperty(d,a,c);return d}function thrower(a){throw a}var inheritedDataKeys=(function(){var c=[Array.prototype,Object.prototype,Function.prototype];var a=function(g){for(var f=0;f<c.length;++f){if(c[f]===g){return true}}return false};if(es5.isES5){var d=Object.getOwnPropertyNames;return function(m){var f=[];var j=Object.create(null);while(m!=null&&!a(m)){var k;try{k=d(m)}catch(l){return f}for(var h=0;h<k.length;++h){var g=k[h];if(j[g]){continue}j[g]=true;var n=Object.getOwnPropertyDescriptor(m,g);if(n!=null&&n.get==null&&n.set==null){f.push(g)}}m=es5.getPrototypeOf(m)}return f}}else{var b={}.hasOwnProperty;return function(j){if(a(j)){return[]}var f=[];enumeration:for(var h in j){if(b.call(j,h)){f.push(h)}else{for(var g=0;g<c.length;++g){if(b.call(c[g],h)){continue enumeration}}f.push(h)}}return f}}})();var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(b){try{if(typeof b==="function"){var d=es5.names(b.prototype);var g=es5.isES5&&d.length>1;var c=d.length>0&&!(d.length===1&&d[0]==="constructor");var a=thisAssignmentPattern.test(b+"")&&es5.names(b).length>0;if(g||c||a){return true}}return false}catch(f){return false}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var l=8;while(l--){new FakeConstructor()}return obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(a){return rident.test(a)}function filledRange(c,d,f){var a=new Array(c);for(var b=0;b<c;++b){a[b]=d+b+f}return a}function safeToString(b){try{return b+""}catch(a){return"[no string representation]"}}function isError(a){return a instanceof Error||(a!==null&&typeof a==="object"&&typeof a.message==="string"&&typeof a.name==="string")}function markAsOriginatingFromRejection(a){try{notEnumerableProp(a,"isOperational",true)}catch(b){}}function originatesFromRejection(a){if(a==null){return false}return((a instanceof Error.__BluebirdErrorTypes__.OperationalError)||a.isOperational===true)}function canAttachTrace(a){return isError(a)&&es5.propertyIsWritable(a,"stack")}var ensureErrorObject=(function(){if(!("stack" in new Error())){return function(b){if(canAttachTrace(b)){return b}try{throw new Error(safeToString(b))}catch(a){return a}}}else{return function(a){if(canAttachTrace(a)){return a}return new Error(safeToString(a))}}})();function classString(a){return{}.toString.call(a)}function copyDescriptors(h,g,c){var d=es5.names(h);for(var b=0;b<d.length;++b){var a=d[b];if(c(a)){try{es5.defineProperty(g,a,es5.getDescriptor(h,a))}catch(f){}}}}var asArray=function(a){if(es5.isArray(a)){return a}return null};if(typeof Symbol!=="undefined"&&Symbol.iterator){var ArrayFrom=typeof Array.from==="function"?function(a){return Array.from(a)}:function(b){var c=[];var d=b[Symbol.iterator]();var a;while(!((a=d.next()).done)){c.push(a.value)}return c};asArray=function(a){if(es5.isArray(a)){return a}else{if(a!=null&&typeof a[Symbol.iterator]==="function"){return ArrayFrom(a)}}return null}}var isNode=typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]";var hasEnvVariables=typeof process!=="undefined"&&typeof process.env!=="undefined";function env(a){return hasEnvVariables?process.env[a]:undefined}function getNativePromise(){if(typeof Promise==="function"){try{var b=new Promise(function(){});if({}.toString.call(b)==="[object Promise]"){return Promise}}catch(a){}}}function domainBind(b,a){return b.bind(a)}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:isNode,hasEnvVariables:hasEnvVariables,env:env,global:globalObject,getNativePromise:getNativePromise,domainBind:domainBind};ret.isRecentNode=ret.isNode&&(function(){var a=process.versions.node.split(".").map(Number);return(a[0]===0&&a[1]>10)||(a[0]>0)})();if(ret.isNode){ret.toFastProperties(process)}try{throw new Error()}catch(e){ret.lastLineError=e}module.exports=ret;