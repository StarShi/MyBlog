"use strict";function arrayMove(e,c,f,d,a){for(var b=0;b<a;++b){f[b+d]=e[b+c];e[b+c]=void 0}}function Queue(a){this._capacity=a;this._length=0;this._front=0}Queue.prototype._willBeOverCapacity=function(a){return this._capacity<a};Queue.prototype._pushOne=function(a){var c=this.length();this._checkCapacity(c+1);var b=(this._front+c)&(this._capacity-1);this[b]=a;this._length=c+1};Queue.prototype.push=function(c,f,a){var e=this.length()+3;if(this._willBeOverCapacity(e)){this._pushOne(c);this._pushOne(f);this._pushOne(a);return}var b=this._front+e-3;this._checkCapacity(e);var d=this._capacity-1;this[(b+0)&d]=c;this[(b+1)&d]=f;this[(b+2)&d]=a;this._length=e};Queue.prototype.shift=function(){var b=this._front,a=this[b];this[b]=undefined;this._front=(b+1)&(this._capacity-1);this._length--;return a};Queue.prototype.length=function(){return this._length};Queue.prototype._checkCapacity=function(a){if(this._capacity<a){this._resizeTo(this._capacity<<1)}};Queue.prototype._resizeTo=function(a){var e=this._capacity;this._capacity=a;var c=this._front;var b=this._length;var d=(c+b)&(e-1);arrayMove(this,0,this,e,d)};module.exports=Queue;