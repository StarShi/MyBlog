"use strict";var util=require("./util");var schedule;var noAsyncScheduler=function(){throw new Error("No async scheduler available\u000a\u000a    See http://goo.gl/MqrFmX\u000a")};var NativePromise=util.getNativePromise();if(util.isNode&&typeof MutationObserver==="undefined"){var GlobalSetImmediate=global.setImmediate;var ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(a){GlobalSetImmediate.call(global,a)}:function(a){ProcessNextTick.call(process,a)}}else{if(typeof NativePromise==="function"&&typeof NativePromise.resolve==="function"){var nativePromise=NativePromise.resolve();schedule=function(a){nativePromise.then(a)}}else{if((typeof MutationObserver!=="undefined")&&!(typeof window!=="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova))){schedule=(function(){var g=document.createElement("div");var d={attributes:true};var e=false;var a=document.createElement("div");var c=new MutationObserver(function(){g.classList.toggle("foo");e=false});c.observe(a,d);var b=function(){if(e){return}e=true;a.classList.toggle("foo")};return function f(h){var i=new MutationObserver(function(){i.disconnect();h()});i.observe(g,d);b()}})()}else{if(typeof setImmediate!=="undefined"){schedule=function(a){setImmediate(a)}}else{if(typeof setTimeout!=="undefined"){schedule=function(a){setTimeout(a,0)}}else{schedule=noAsyncScheduler}}}}}module.exports=schedule;