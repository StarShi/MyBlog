"use strict";module.exports=function(c,d,g,f){var a=require("./util");var e=function(h){return h.then(function(i){return b(i,h)})};function b(n,o){var p=g(n);if(p instanceof c){return e(p)}else{n=a.asArray(n);if(n===null){return f("expecting an array or an iterable object but got "+a.classString(n))}}var l=new c(d);if(o!==undefined){l._propagateFrom(o,3)}var m=l._fulfill;var q=l._reject;for(var j=0,k=n.length;j<k;++j){var h=n[j];if(h===undefined&&!(j in n)){continue}c.cast(h)._then(m,q,undefined,l,null)}return l}c.race=function(h){return b(h,undefined)};c.prototype.race=function(){return b(this,undefined)}};