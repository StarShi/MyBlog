"use strict";module.exports=function(k,h,d,a){var e=require("./util");var l=e.isObject;var i=require("./es5");var b;if(typeof Map==="function"){b=Map}var g=(function(){var n=0;var o=0;function p(r,q){this[n]=r;this[n+o]=q;n++}return function m(r){o=r.size;n=0;var q=new Array(r.size*2);r.forEach(p,q);return q}})();var f=function(m){var n=new b();var q=m.length/2|0;for(var p=0;p<q;++p){var o=m[q+p];var r=m[p];n.set(o,r)}return n};function c(s){var o=false;var n;if(b!==undefined&&s instanceof b){n=g(s);o=true}else{var r=i.keys(s);var m=r.length;n=new Array(m*2);for(var q=0;q<m;++q){var p=r[q];n[q]=s[p];n[q+m]=p}}this.constructor$(n);this._isMap=o;this._init$(undefined,o?-6:-3)}e.inherits(c,h);c.prototype._init=function(){};c.prototype._promiseFulfilled=function(q,o){this._values[o]=q;var n=++this._totalResolved;if(n>=this._length){var s;if(this._isMap){s=f(this._values)}else{s={};var r=this.length();for(var p=0,m=this.length();p<m;++p){s[this._values[p+r]]=this._values[p]}}this._resolve(s);return true}return false};c.prototype.shouldCopyValues=function(){return false};c.prototype.getActualLength=function(m){return m>>1};function j(n){var m;var o=d(n);if(!l(o)){return a("cannot await properties of a non-object\u000a\u000a    See http://goo.gl/MqrFmX\u000a")}else{if(o instanceof k){m=o._then(k.props,undefined,undefined,undefined,undefined)}else{m=new c(o).promise()}}if(o instanceof k){m._propagateFrom(o,2)}return m}k.prototype.props=function(){return j(this)};k.props=function(m){return j(m)}};