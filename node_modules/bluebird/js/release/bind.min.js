"use strict";module.exports=function(e,c,b,a){var i=false;var d=function(j,k){this._reject(k)};var f=function(k,j){j.promiseRejectionQueued=true;j.bindingPromise._then(d,d,null,this,k)};var g=function(j,k){if(((this._bitField&50397184)===0)){this._resolveCallback(k.target)}};var h=function(k,j){if(!j.promiseRejectionQueued){this._reject(k)}};e.prototype.bind=function(j){if(!i){i=true;e.prototype._propagateFrom=a.propagateFromFunction();e.prototype._boundValue=a.boundValueFunction()}var l=b(j);var k=new e(c);k._propagateFrom(this,1);var n=this._target();k._setBoundTo(l);if(l instanceof e){var m={promiseRejectionQueued:false,promise:k,target:n,bindingPromise:l};n._then(c,f,undefined,k,m);l._then(g,h,undefined,k,m);k._setOnCancel(l)}else{k._resolveCallback(n)}return k};e.prototype._setBoundTo=function(j){if(j!==undefined){this._bitField=this._bitField|2097152;this._boundTo=j}else{this._bitField=this._bitField&(~2097152)}};e.prototype._isBound=function(){return(this._bitField&2097152)===2097152};e.bind=function(j,k){return e.resolve(k).bind(j)}};