var assert=require("assert");var Parser=require("./parted-multipart"),boundary="-----------------------------168072824752491622650073",parser=new Parser("boundary="+boundary),mb=100,buffer=createMultipartBuffer(boundary,mb*1024*1024),callbacks={partBegin:-1,partEnd:-1,headerField:-1,headerValue:-1,partData:-1,end:-1};parser.on("header",function(){});parser.on("data",function(){});parser.on("part",function(){});parser.on("end",function(){});var start=+new Date(),nparsed=parser.write(buffer),duration=+new Date-start,mbPerSec=(mb/(duration/1000)).toFixed(2);console.log(mbPerSec+" mb/sec");function createMultipartBuffer(e,d){var c="--"+e+'\r\ncontent-disposition: form-data; name="field1"\r\n\r\n',b="\r\n--"+e+"--\r\n",a=new Buffer(d);a.write(c,"ascii",0);a.write(b,"ascii",a.length-b.length);return a}process.on("exit",function(){});