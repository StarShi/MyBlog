module.exports=minimatch;minimatch.Minimatch=Minimatch;var path={sep:"/"};try{path=require("path")}catch(er){}var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var expand=require("brace-expansion");var plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var qmark="[^/]";var star=qmark+"*?";var twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?";var reSpecials=charSet("().*{}+?[]^$\\!");function charSet(a){return a.split("").reduce(function(d,b){d[b]=true;return d},{})}var slashSplit=/\/+/;minimatch.filter=filter;function filter(b,a){a=a||{};return function(e,c,d){return minimatch(e,b,a)}}function ext(d,c){d=d||{};c=c||{};var e={};Object.keys(c).forEach(function(a){e[a]=c[a]});Object.keys(d).forEach(function(a){e[a]=d[a]});return e}minimatch.defaults=function(b){if(!b||!Object.keys(b).length){return d}var e=d;var a=function d(h,g,f){return e.minimatch(h,g,ext(b,f))};a.Minimatch=function c(g,f){return new e.Minimatch(g,ext(b,f))};return a};Minimatch.defaults=function(a){if(!a||!Object.keys(a).length){return Minimatch}return minimatch.defaults(a).Minimatch};function minimatch(c,b,a){if(typeof b!=="string"){throw new TypeError("glob pattern string required")}if(!a){a={}}if(!a.nocomment&&b.charAt(0)==="#"){return false}if(b.trim()===""){return c===""}return new Minimatch(b,a).match(c)}function Minimatch(b,a){if(!(this instanceof Minimatch)){return new Minimatch(b,a)}if(typeof b!=="string"){throw new TypeError("glob pattern string required")}if(!a){a={}}b=b.trim();if(path.sep!=="/"){b=b.split(path.sep).join("/")}this.options=a;this.set=[];this.pattern=b;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){if(this._made){return}var b=this.pattern;var a=this.options;if(!a.nocomment&&b.charAt(0)==="#"){this.comment=true;return}if(!b){this.empty=true;return}this.parseNegate();var c=this.globSet=this.braceExpand();if(a.debug){this.debug=console.error}this.debug(this.pattern,c);c=this.globParts=c.map(function(d){return d.split(slashSplit)});this.debug(this.pattern,c);c=c.map(function(e,d,f){return e.map(this.parse,this)},this);this.debug(this.pattern,c);c=c.filter(function(d){return d.indexOf(false)===-1});this.debug(this.pattern,c);this.set=c}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var e=this.pattern;var f=false;var c=this.options;var b=0;if(c.nonegate){return}for(var d=0,a=e.length;d<a&&e.charAt(d)==="!";d++){f=!f;b++}if(b){this.pattern=e.substr(b)}this.negate=f}minimatch.braceExpand=function(b,a){return braceExpand(b,a)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(b,a){if(!a){if(this instanceof Minimatch){a=this.options}else{a={}}}b=typeof b==="undefined"?this.pattern:b;if(typeof b==="undefined"){throw new TypeError("undefined pattern")}if(a.nobrace||!b.match(/\{.*\}/)){return[b]}return expand(b)}Minimatch.prototype.parse=parse;var SUBPARSE={};function parse(f,A){if(f.length>1024*64){throw new TypeError("pattern is too long")}var v=this.options;if(!v.noglobstar&&f==="**"){return GLOBSTAR}if(f===""){return""}var B="";var l=!!v.nocase;var y=false;var I=[];var z=[];var g;var d=false;var J=-1;var b=-1;var r=f.charAt(0)==="."?"":v.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var j=this;function G(){if(g){switch(g){case"*":B+=star;l=true;break;case"?":B+=qmark;l=true;break;default:B+="\\"+g;break}j.debug("clearStateChar %j %j",g,B);g=false}}for(var H=0,q=f.length,K;(H<q)&&(K=f.charAt(H));H++){this.debug("%s\t%s %s %j",f,H,B,K);if(y&&reSpecials[K]){B+="\\"+K;y=false;continue}switch(K){case"/":return false;case"\\":G();y=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",f,H,B,K);if(d){this.debug("  in class");if(K==="!"&&H===b+1){K="^"}B+=K;continue}j.debug("call clearStateChar %j",g);G();g=K;if(v.noext){G()}continue;case"(":if(d){B+="(";continue}if(!g){B+="\\(";continue}I.push({type:g,start:H-1,reStart:B.length,open:plTypes[g].open,close:plTypes[g].close});B+=g==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",g,B);g=false;continue;case")":if(d||!I.length){B+="\\)";continue}G();l=true;var o=I.pop();B+=o.close;if(o.type==="!"){z.push(o)}o.reEnd=B.length;continue;case"|":if(d||!I.length||y){B+="\\|";y=false;continue}G();B+="|";continue;case"[":G();if(d){B+="\\"+K;continue}d=true;b=H;J=B.length;B+=K;continue;case"]":if(H===b+1||!d){B+="\\"+K;y=false;continue}if(d){var u=f.substring(b+1,H);try{RegExp("["+u+"]")}catch(E){var m=this.parse(u,SUBPARSE);B=B.substr(0,J)+"\\["+m[0]+"\\]";l=l||m[1];d=false;continue}}l=true;d=false;B+=K;continue;default:G();if(y){y=false}else{if(reSpecials[K]&&!(K==="^"&&d)){B+="\\"}}B+=K}}if(d){u=f.substr(b+1);m=this.parse(u,SUBPARSE);B=B.substr(0,J)+"\\["+m[0];l=l||m[1]}for(o=I.pop();o;o=I.pop()){var N=B.slice(o.reStart+o.open.length);this.debug("setting tail",B,o);N=N.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(i,c,n){if(!n){n="\\"}return c+c+n+"|"});this.debug("tail=%j\n   %s",N,N,o,B);var D=o.type==="*"?star:o.type==="?"?qmark:"\\"+o.type;l=true;B=B.slice(0,o.reStart)+D+"\\("+N}G();if(y){B+="\\\\"}var x=false;switch(B.charAt(0)){case".":case"[":case"(":x=true}for(var F=z.length-1;F>-1;F--){var L=z[F];var a=B.slice(0,L.reStart);var O=B.slice(L.reStart,L.reEnd-8);var s=B.slice(L.reEnd-8,L.reEnd);var w=B.slice(L.reEnd);s+=w;var h=a.split("(").length-1;var M=w;for(H=0;H<h;H++){M=M.replace(/\)[+*?]?/,"")}w=M;var k="";if(w===""&&A!==SUBPARSE){k="$"}var C=a+O+w+k+s;B=C}if(B!==""&&l){B="(?=.)"+B}if(x){B=r+B}if(A===SUBPARSE){return[B,l]}if(!l){return globUnescape(f)}var p=v.nocase?"i":"";try{var e=new RegExp("^"+B+"$",p)}catch(E){return new RegExp("$.")}e._glob=f;e._src=B;return e}minimatch.makeRe=function(b,a){return new Minimatch(b,a||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false){return this.regexp}var f=this.set;if(!f.length){this.regexp=false;return this.regexp}var c=this.options;var b=c.noglobstar?star:c.dot?twoStarDot:twoStarNoDot;var a=c.nocase?"i":"";var e=f.map(function(g){return g.map(function(h){return(h===GLOBSTAR)?b:(typeof h==="string")?regExpEscape(h):h._src}).join("\\/")}).join("|");e="^(?:"+e+")$";if(this.negate){e="^(?!"+e+").*$"}try{this.regexp=new RegExp(e,a)}catch(d){this.regexp=false}return this.regexp}minimatch.match=function(c,b,a){a=a||{};var d=new Minimatch(b,a);c=c.filter(function(e){return d.match(e)});if(d.options.nonull&&!c.length){c.push(b)}return c};Minimatch.prototype.match=match;function match(e,h){this.debug("match",e,this.pattern);if(this.comment){return false}if(this.empty){return e===""}if(e==="/"&&h){return true}var k=this.options;if(path.sep!=="/"){e=e.split(path.sep).join("/")}e=e.split(slashSplit);this.debug(this.pattern,"split",e);var j=this.set;this.debug(this.pattern,"set",j);var b;var d;for(d=e.length-1;d>=0;d--){b=e[d];if(b){break}}for(d=0;d<j.length;d++){var g=j[d];var c=e;if(k.matchBase&&g.length===1){c=[b]}var a=this.matchOne(c,g,h);if(a){if(k.flipNegate){return true}return !this.negate}}if(k.flipNegate){return false}return this.negate}Minimatch.prototype.matchOne=function(g,l,m){var q=this.options;this.debug("matchOne",{"this":this,file:g,pattern:l});this.debug("matchOne",g.length,l.length);for(var o=0,i=0,n=g.length,h=l.length;(o<n)&&(i<h);o++,i++){this.debug("matchOne loop");var c=l[i];var k=g[o];this.debug(l,c,k);if(c===false){return false}if(c===GLOBSTAR){this.debug("GLOBSTAR",[l,c,k]);var j=o;var b=i+1;if(b===h){this.debug("** at the end");for(;o<n;o++){if(g[o]==="."||g[o]===".."||(!q.dot&&g[o].charAt(0)===".")){return false}}return true}while(j<n){var e=g[j];this.debug("\nglobstar while",g,j,l,b,e);if(this.matchOne(g.slice(j),l.slice(b),m)){this.debug("globstar found match!",j,n,e);return true}else{if(e==="."||e===".."||(!q.dot&&e.charAt(0)===".")){this.debug("dot detected!",g,j,l,b);break}this.debug("globstar swallow a segment, and continue");j++}}if(m){this.debug("\n>>> no match, partial?",g,j,l,b);if(j===n){return true}}return false}var a;if(typeof c==="string"){if(q.nocase){a=k.toLowerCase()===c.toLowerCase()}else{a=k===c}this.debug("string match",c,k,a)}else{a=k.match(c);this.debug("pattern match",c,k,a)}if(!a){return false}}if(o===n&&i===h){return true}else{if(o===n){return m}else{if(i===h){var d=(o===n-1)&&(g[o]==="");return d}}}throw new Error("wtf?")};function globUnescape(a){return a.replace(/\\(.)/g,"$1")}function regExpEscape(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};