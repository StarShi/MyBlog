/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */
;"use strict";module.exports=bytes;module.exports.format=format;module.exports.parse=parse;var formatThousandsRegExp=/\B(?=(\d{3})+(?!\d))/g;var formatDecimalsRegExp=/(?:\.0*|(\.[^0]+)0+)$/;var map={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:((1<<30)*1024)};var parseRegExp=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function bytes(b,a){if(typeof b==="string"){return parse(b)}if(typeof b==="number"){return format(b,a)}return null}function format(f,j){if(!Number.isFinite(f)){return null}var d=Math.abs(f);var h=(j&&j.thousandsSeparator)||"";var i=(j&&j.unitSeparator)||"";var c=(j&&j.decimalPlaces!==undefined)?j.decimalPlaces:2;var b=Boolean(j&&j.fixedDecimals);var g=(j&&j.unit)||"";if(!g||!map[g.toLowerCase()]){if(d>=map.tb){g="TB"}else{if(d>=map.gb){g="GB"}else{if(d>=map.mb){g="MB"}else{if(d>=map.kb){g="KB"}else{g="B"}}}}}var a=f/map[g.toLowerCase()];var e=a.toFixed(c);if(!b){e=e.replace(formatDecimalsRegExp,"$1")}if(h){e=e.replace(formatThousandsRegExp,h)}return e+i+g}function parse(d){if(typeof d==="number"&&!isNaN(d)){return d}if(typeof d!=="string"){return null}var a=parseRegExp.exec(d);var c;var b="b";if(!a){c=parseInt(d,10);b="b"}else{c=parseFloat(a[1]);b=a[4].toLowerCase()}return Math.floor(map[b]*c)};