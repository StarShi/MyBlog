/*!
 * fresh
 * Copyright(c) 2012 TJ Holowaychuk
 * Copyright(c) 2016-2017 Douglas Christopher Wilson
 * MIT Licensed
 */
;"use strict";var CACHE_CONTROL_NO_CACHE_REGEXP=/(?:^|,)\s*?no-cache\s*?(?:,|$)/;module.exports=fresh;function fresh(a,l){var f=a["if-modified-since"];var g=a["if-none-match"];if(!f&&!g){return false}var m=a["cache-control"];if(m&&CACHE_CONTROL_NO_CACHE_REGEXP.test(m)){return false}if(g&&g!=="*"){var h=l.etag;if(!h){return false}var j=true;var e=parseTokenList(g);for(var c=0;c<e.length;c++){var d=e[c];if(d===h||d==="W/"+h||"W/"+d===h){j=false;break}}if(j){return false}}if(f){var b=l["last-modified"];var k=!b||!(parseHttpDate(b)<=parseHttpDate(f));if(k){return false}}return true}function parseHttpDate(a){var b=a&&Date.parse(a);return typeof b==="number"?b:NaN}function parseTokenList(e){var b=0;var d=[];var f=0;for(var c=0,a=e.length;c<a;c++){switch(e.charCodeAt(c)){case 32:if(f===b){f=b=c+1}break;case 44:d.push(e.substring(f,b));f=b=c+1;break;default:b=c+1;break}}d.push(e.substring(f,b));return d};