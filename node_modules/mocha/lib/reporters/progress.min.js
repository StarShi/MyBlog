"use strict";var Base=require("./base");var inherits=require("../utils").inherits;var color=Base.color;var cursor=Base.cursor;exports=module.exports=Progress;Base.colors.progress=90;function Progress(g,c){Base.call(this,g);var b=this;var d=Base.window.width*0.5|0;var f=g.total;var a=0;var e=-1;c=c||{};c.open=c.open||"[";c.complete=c.complete||"â–¬";c.incomplete=c.incomplete||Base.symbols.dot;c.close=c.close||"]";c.verbose=false;g.on("start",function(){console.log();cursor.hide()});g.on("test end",function(){a++;var j=a/f;var k=d*j|0;var h=d-k;if(k===e&&!c.verbose){return}e=k;cursor.CR();process.stdout.write("\u001b[J");process.stdout.write(color("progress","  "+c.open));process.stdout.write(Array(k).join(c.complete));process.stdout.write(Array(h).join(c.incomplete));process.stdout.write(color("progress",c.close));if(c.verbose){process.stdout.write(color("progress"," "+a+" of "+f))}});g.on("end",function(){cursor.show();console.log();b.epilogue()})}inherits(Progress,Base);