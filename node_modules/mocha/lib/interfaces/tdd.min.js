"use strict";var Test=require("../test");module.exports=function(a){var b=[a];a.on("pre-require",function(e,d,c){var f=require("./common")(b,e,c);e.setup=f.beforeEach;e.teardown=f.afterEach;e.suiteSetup=f.before;e.suiteTeardown=f.after;e.run=c.options.delay&&f.runWithSuite(a);e.suite=function(h,g){return f.suite.create({title:h,file:d,fn:g})};e.suite.skip=function(h,g){return f.suite.skip({title:h,file:d,fn:g})};e.suite.only=function(h,g){return f.suite.only({title:h,file:d,fn:g})};e.test=function(i,h){var g=b[0];if(g.isPending()){h=null}var j=new Test(i,h);j.file=d;g.addTest(j);return j};e.test.only=function(h,g){return f.test.only(c,e.test(h,g))};e.test.skip=f.test.skip;e.test.retries=f.test.retries})};