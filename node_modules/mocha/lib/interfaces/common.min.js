"use strict";var Suite=require("../suite");module.exports=function(f,d,a){return{runWithSuite:function g(h){return function i(){h.run()}},before:function(h,i){f[0].beforeAll(h,i)},after:function(h,i){f[0].afterAll(h,i)},beforeEach:function(h,i){f[0].beforeEach(h,i)},afterEach:function(h,i){f[0].afterEach(h,i)},suite:{only:function b(h){a.options.hasOnly=true;h.isOnly=true;return this.create(h)},skip:function e(h){h.pending=true;return this.create(h)},create:function c(i){var h=Suite.create(f[0],i.title);h.pending=Boolean(i.pending);h.file=i.file;f.unshift(h);if(i.isOnly){h.parent._onlySuites=h.parent._onlySuites.concat(h);a.options.hasOnly=true}if(typeof i.fn==="function"){i.fn.call(h);f.shift()}else{if(typeof i.fn==="undefined"&&!h.pending){throw new Error('Suite "'+h.fullTitle()+'" was defined but no callback was supplied. Supply a callback or explicitly skip the suite.')}}return h}},test:{only:function(h,i){i.parent._onlyTests=i.parent._onlyTests.concat(i);h.options.hasOnly=true;return i},skip:function(h){d.test(h)},retries:function(h){d.retries(h)}}}};