var concatMap=require("../");var test=require("tape");test("empty or not",function(b){var a=[1,2,3,4,5,6];var d=[];var c=concatMap(a,function(e,f){d.push(f);return e%2?[e-0.1,e,e+0.1]:[]});b.same(c,[0.9,1,1.1,2.9,3,3.1,4.9,5,5.1]);b.same(d,[0,1,2,3,4,5]);b.end()});test("always something",function(b){var a=["a","b","c","d"];var c=concatMap(a,function(d){return d==="b"?["B","B","B"]:[d]});b.same(c,["a","B","B","B","c","d"]);b.end()});test("scalars",function(b){var a=["a","b","c","d"];var c=concatMap(a,function(d){return d==="b"?["B","B","B"]:d});b.same(c,["a","B","B","B","c","d"]);b.end()});test("undefs",function(b){var a=["a","b","c","d"];var c=concatMap(a,function(){});b.same(c,[undefined,undefined,undefined,undefined]);b.end()});