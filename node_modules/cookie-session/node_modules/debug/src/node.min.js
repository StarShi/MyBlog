var tty=require("tty");var util=require("util");exports=module.exports=require("./debug");exports.init=init;exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.colors=[6,2,3,4,5,1];try{var supportsColor=require("supports-color");if(supportsColor&&supportsColor.level>=2){exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(err){}exports.inspectOpts=Object.keys(process.env).filter(function(a){return/^debug_/i.test(a)}).reduce(function(b,a){var d=a.substring(6).toLowerCase().replace(/_([a-z])/g,function(f,e){return e.toUpperCase()});var c=process.env[a];if(/^(yes|on|true|enabled)$/i.test(c)){c=true}else{if(/^(no|off|false|disabled)$/i.test(c)){c=false}else{if(c==="null"){c=null}else{c=Number(c)}}}b[d]=c;return b},{});function useColors(){return"colors" in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)}exports.formatters.o=function(a){this.inspectOpts.colors=this.useColors;return util.inspect(a,this.inspectOpts).split("\n").map(function(b){return b.trim()}).join(" ")};exports.formatters.O=function(a){this.inspectOpts.colors=this.useColors;return util.inspect(a,this.inspectOpts)};function formatArgs(d){var b=this.namespace;var f=this.useColors;if(f){var g=this.color;var a="\u001b[3"+(g<8?g:"8;5;"+g);var e="  "+a+";1m"+b+" \u001b[0m";d[0]=e+d[0].split("\n").join("\n"+e);d.push(a+"m+"+exports.humanize(this.diff)+"\u001b[0m")}else{d[0]=getDate()+b+" "+d[0]}}function getDate(){if(exports.inspectOpts.hideDate){return""}else{return new Date().toISOString()+" "}}function log(){return process.stderr.write(util.format.apply(util,arguments)+"\n")}function save(a){if(null==a){delete process.env.DEBUG}else{process.env.DEBUG=a}}function load(){return process.env.DEBUG}function init(a){a.inspectOpts={};var c=Object.keys(exports.inspectOpts);for(var b=0;b<c.length;b++){a.inspectOpts[c[b]]=exports.inspectOpts[c[b]]}}exports.enable(load());