var reFirstKey=/^[^\[]*/;var reDigitPath=/^\[(\d+)\]/;var reNormalPath=/^\[([^\]]+)\]/;function parsePath(g){function e(){return[{type:"object",key:g,last:true}]}var f=reFirstKey.exec(g)[0];if(!f){return e()}var b=g.length;var h=f.length;var d={type:"object",key:f};var c=[d];while(h<b){var a;if(g[h]==="["&&g[h+1]==="]"){h+=2;d.append=true;if(h!==b){return e()}continue}a=reDigitPath.exec(g.substring(h));if(a!==null){h+=a[0].length;d.nextType="array";d={type:"array",key:parseInt(a[1],10)};c.push(d);continue}a=reNormalPath.exec(g.substring(h));if(a!==null){h+=a[0].length;d.nextType="object";d={type:"object",key:a[1]};c.push(d);continue}return e()}d.last=true;return c}module.exports=parsePath;