function valueType(a){if(a===undefined){return"undefined"}if(Array.isArray(a)){return"array"}if(typeof a==="object"){return"object"}return"scalar"}function setLastValue(a,d,c,b){switch(valueType(c)){case"undefined":if(d.append){a[d.key]=[b]}else{a[d.key]=b}break;case"array":a[d.key].push(b);break;case"object":return setLastValue(c,{type:"object",key:"",last:true},c[""],b);case"scalar":a[d.key]=[a[d.key],b];break}return a}function setValue(a,d,c,b){if(d.last){return setLastValue(a,d,c,b)}var e;switch(valueType(c)){case"undefined":if(d.nextType==="array"){a[d.key]=[]}else{a[d.key]=Object.create(null)}return a[d.key];case"object":return a[d.key];case"array":if(d.nextType==="array"){return c}e=Object.create(null);a[d.key]=e;c.forEach(function(g,f){if(g!==undefined){e[""+f]=g}});return e;case"scalar":e=Object.create(null);e[""]=c;a[d.key]=e;return e}}module.exports=setValue;