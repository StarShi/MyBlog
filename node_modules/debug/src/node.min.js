var tty=require("tty");var util=require("util");exports=module.exports=require("./debug");exports.init=init;exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.colors=[6,2,3,4,5,1];exports.inspectOpts=Object.keys(process.env).filter(function(a){return/^debug_/i.test(a)}).reduce(function(b,a){var d=a.substring(6).toLowerCase().replace(/_([a-z])/g,function(f,e){return e.toUpperCase()});var c=process.env[a];if(/^(yes|on|true|enabled)$/i.test(c)){c=true}else{if(/^(no|off|false|disabled)$/i.test(c)){c=false}else{if(c==="null"){c=null}else{c=Number(c)}}}b[d]=c;return b},{});var fd=parseInt(process.env.DEBUG_FD,10)||2;if(1!==fd&&2!==fd){util.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")()}var stream=1===fd?process.stdout:2===fd?process.stderr:createWritableStdioStream(fd);function useColors(){return"colors" in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(fd)}exports.formatters.o=function(a){this.inspectOpts.colors=this.useColors;return util.inspect(a,this.inspectOpts).split("\n").map(function(b){return b.trim()}).join(" ")};exports.formatters.O=function(a){this.inspectOpts.colors=this.useColors;return util.inspect(a,this.inspectOpts)};function formatArgs(b){var a=this.namespace;var e=this.useColors;if(e){var f=this.color;var d="  \u001b[3"+f+";1m"+a+" \u001b[0m";b[0]=d+b[0].split("\n").join("\n"+d);b.push("\u001b[3"+f+"m+"+exports.humanize(this.diff)+"\u001b[0m")}else{b[0]=new Date().toUTCString()+" "+a+" "+b[0]}}function log(){return stream.write(util.format.apply(util,arguments)+"\n")}function save(a){if(null==a){delete process.env.DEBUG}else{process.env.DEBUG=a}}function load(){return process.env.DEBUG}function createWritableStdioStream(c){var e;var b=process.binding("tty_wrap");switch(b.guessHandleType(c)){case"TTY":e=new tty.WriteStream(c);e._type="tty";if(e._handle&&e._handle.unref){e._handle.unref()}break;case"FILE":var a=require("fs");e=new a.SyncWriteStream(c,{autoClose:false});e._type="fs";break;case"PIPE":case"TCP":var d=require("net");e=new d.Socket({fd:c,readable:false,writable:true});e.readable=false;e.read=null;e._type="pipe";if(e._handle&&e._handle.unref){e._handle.unref()}break;default:throw new Error("Implement me. Unknown stream file type!")}e.fd=c;e._isStdio=true;return e}function init(a){a.inspectOpts={};var c=Object.keys(exports.inspectOpts);for(var b=0;b<c.length;b++){a.inspectOpts[c[b]]=exports.inspectOpts[c[b]]}}exports.enable(load());