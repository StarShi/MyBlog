var path=require("path");var fs=require("fs");var _0777=parseInt("0777",8);module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP;function mkdirP(e,c,d,h){if(typeof c==="function"){d=c;c={}}else{if(!c||typeof c!=="object"){c={mode:c}}}var g=c.mode;var b=c.fs||fs;if(g===undefined){g=_0777&(~process.umask())}if(!h){h=null}var a=d||function(){};e=path.resolve(e);b.mkdir(e,g,function(f){if(!f){h=h||e;return a(null,h)}switch(f.code){case"ENOENT":mkdirP(path.dirname(e),c,function(j,i){if(j){a(j,i)}else{mkdirP(e,c,a,i)}});break;default:b.stat(e,function(i,j){if(i||!j.isDirectory()){a(f,h)}else{a(null,h)}});break}})}mkdirP.sync=function sync(f,e,h){if(!e||typeof e!=="object"){e={mode:e}}var g=e.mode;var c=e.fs||fs;if(g===undefined){g=_0777&(~process.umask())}if(!h){h=null}f=path.resolve(f);try{c.mkdirSync(f,g);h=h||f}catch(b){switch(b.code){case"ENOENT":h=sync(path.dirname(f),e,h);sync(f,e,h);break;default:var d;try{d=c.statSync(f)}catch(a){throw b}if(!d.isDirectory()){throw b}break}}return h};