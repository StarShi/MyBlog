var mkdirp=require("../");var path=require("path");var fs=require("fs");var exists=fs.exists||path.exists;var test=require("tap").test;var _0777=parseInt("0777",8);var _0755=parseInt("0755",8);test("sync perm",function(b){b.plan(4);var a="/tmp/"+(Math.random()*(1<<30)).toString(16)+".json";mkdirp.sync(a,_0755);exists(a,function(c){b.ok(c,"file created");fs.stat(a,function(e,d){b.ifError(e);b.equal(d.mode&_0777,_0755);b.ok(d.isDirectory(),"target not a directory")})})});test("sync root perm",function(b){b.plan(3);var a="/tmp";mkdirp.sync(a,_0755);exists(a,function(c){b.ok(c,"file created");fs.stat(a,function(e,d){b.ifError(e);b.ok(d.isDirectory(),"target not a directory")})})});