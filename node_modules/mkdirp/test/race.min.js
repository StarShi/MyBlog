var mkdirp=require("../").mkdirp;var path=require("path");var fs=require("fs");var exists=fs.exists||path.exists;var test=require("tap").test;var _0777=parseInt("0777",8);var _0755=parseInt("0755",8);test("race",function(f){f.plan(10);var g=["","tmp"];for(var e=0;e<25;e++){var b=Math.floor(Math.random()*Math.pow(16,4)).toString(16);g.push(b)}var d=g.join("/");var c=2;a(d);a(d);function a(i,h){mkdirp(i,_0755,function(j){f.ifError(j);exists(i,function(k){f.ok(k,"file created");fs.stat(i,function(m,l){f.ifError(m);f.equal(l.mode&_0777,_0755);f.ok(l.isDirectory(),"target not a directory")})})})}});