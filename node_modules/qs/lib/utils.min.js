"use strict";var has=Object.prototype.hasOwnProperty;var hexTable=(function(){var b=[];for(var a=0;a<256;++a){b.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase())}return b}());var compactQueue=function compactQueue(b){var e;while(b.length){var d=b.pop();e=d.obj[d.prop];if(Array.isArray(e)){var a=[];for(var c=0;c<e.length;++c){if(typeof e[c]!=="undefined"){a.push(e[c])}}d.obj[d.prop]=a}}return e};exports.arrayToObject=function arrayToObject(c,a){var d=a&&a.plainObjects?Object.create(null):{};for(var b=0;b<c.length;++b){if(typeof c[b]!=="undefined"){d[b]=c[b]}}return d};exports.merge=function merge(d,c,a){if(!c){return d}if(typeof c!=="object"){if(Array.isArray(d)){d.push(c)}else{if(typeof d==="object"){if(a.plainObjects||a.allowPrototypes||!has.call(Object.prototype,c)){d[c]=true}}else{return[d,c]}}return d}if(typeof d!=="object"){return[d].concat(c)}var b=d;if(Array.isArray(d)&&!Array.isArray(c)){b=exports.arrayToObject(d,a)}if(Array.isArray(d)&&Array.isArray(c)){c.forEach(function(f,e){if(has.call(d,e)){if(d[e]&&typeof d[e]==="object"){d[e]=exports.merge(d[e],f,a)}else{d.push(f)}}else{d[e]=f}});return d}return Object.keys(c).reduce(function(g,e){var f=c[e];if(has.call(g,e)){g[e]=exports.merge(g[e],f,a)}else{g[e]=f}return g},b)};exports.assign=function assignSingleSource(b,a){return Object.keys(a).reduce(function(d,c){d[c]=a[c];return d},b)};exports.decode=function(b){try{return decodeURIComponent(b.replace(/\+/g," "))}catch(a){return b}};exports.encode=function encode(e){if(e.length===0){return e}var b=typeof e==="string"?e:String(e);var a="";for(var d=0;d<b.length;++d){var f=b.charCodeAt(d);if(f===45||f===46||f===95||f===126||(f>=48&&f<=57)||(f>=65&&f<=90)||(f>=97&&f<=122)){a+=b.charAt(d);continue}if(f<128){a=a+hexTable[f];continue}if(f<2048){a=a+(hexTable[192|(f>>6)]+hexTable[128|(f&63)]);continue}if(f<55296||f>=57344){a=a+(hexTable[224|(f>>12)]+hexTable[128|((f>>6)&63)]+hexTable[128|(f&63)]);continue}d+=1;f=65536+(((f&1023)<<10)|(b.charCodeAt(d)&1023));a+=hexTable[240|(f>>18)]+hexTable[128|((f>>12)&63)]+hexTable[128|((f>>6)&63)]+hexTable[128|(f&63)]}return a};exports.compact=function compact(g){var e=[{obj:{o:g},prop:"o"}];var f=[];for(var d=0;d<e.length;++d){var k=e[d];var c=k.obj[k.prop];var l=Object.keys(c);for(var b=0;b<l.length;++b){var h=l[b];var a=c[h];if(typeof a==="object"&&a!==null&&f.indexOf(a)===-1){e.push({obj:c,prop:h});f.push(a)}}}return compactQueue(e)};exports.isRegExp=function isRegExp(a){return Object.prototype.toString.call(a)==="[object RegExp]"};exports.isBuffer=function isBuffer(a){if(a===null||typeof a==="undefined"){return false}return !!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))};