"use strict";var BOMChar="\uFEFF";exports.PrependBOM=PrependBOMWrapper;function PrependBOMWrapper(b,a){this.encoder=b;this.addBOM=true}PrependBOMWrapper.prototype.write=function(a){if(this.addBOM){a=BOMChar+a;this.addBOM=false}return this.encoder.write(a)};PrependBOMWrapper.prototype.end=function(){return this.encoder.end()};exports.StripBOM=StripBOMWrapper;function StripBOMWrapper(b,a){this.decoder=b;this.pass=false;this.options=a||{}}StripBOMWrapper.prototype.write=function(a){var b=this.decoder.write(a);if(this.pass||!b){return b}if(b[0]===BOMChar){b=b.slice(1);if(typeof this.options.stripBOM==="function"){this.options.stripBOM()}}this.pass=true;return b};StripBOMWrapper.prototype.end=function(){return this.decoder.end()};