/*!
 * etag
 * Copyright(c) 2014-2016 Douglas Christopher Wilson
 * MIT Licensed
 */
;"use strict";module.exports=etag;var crypto=require("crypto");var Stats=require("fs").Stats;var toString=Object.prototype.toString;function entitytag(b){if(b.length===0){return'"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"'}var c=crypto.createHash("sha1").update(b,"utf8").digest("base64").substring(0,27);var a=typeof b==="string"?Buffer.byteLength(b,"utf8"):b.length;return'"'+a.toString(16)+"-"+c+'"'}function etag(b,c){if(b==null){throw new TypeError("argument entity is required")}var d=isstats(b);var e=c&&typeof c.weak==="boolean"?c.weak:d;if(!d&&typeof b!=="string"&&!Buffer.isBuffer(b)){throw new TypeError("argument entity must be string, Buffer, or fs.Stats")}var a=d?stattag(b):entitytag(b);return e?"W/"+a:a}function isstats(a){if(typeof Stats==="function"&&a instanceof Stats){return true}return a&&typeof a==="object"&&"ctime" in a&&toString.call(a.ctime)==="[object Date]"&&"mtime" in a&&toString.call(a.mtime)==="[object Date]"&&"ino" in a&&typeof a.ino==="number"&&"size" in a&&typeof a.size==="number"}function stattag(c){var a=c.mtime.getTime().toString(16);var b=c.size.toString(16);return'"'+b+"-"+a+'"'};