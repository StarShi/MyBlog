var wrappy=require("wrappy");var reqs=Object.create(null);var once=require("once");module.exports=wrappy(inflight);function inflight(b,a){if(reqs[b]){reqs[b].push(a);return null}else{reqs[b]=[a];return makeres(b)}}function makeres(b){return once(function a(){var e=reqs[b];var c=e.length;var d=slice(arguments);try{for(var f=0;f<c;f++){e[f].apply(null,d)}}finally{if(e.length>c){e.splice(0,c);process.nextTick(function(){a.apply(null,d)})}else{delete reqs[b]}}})}function slice(a){var c=a.length;var d=[];for(var b=0;b<c;b++){d[b]=a[b]}return d};